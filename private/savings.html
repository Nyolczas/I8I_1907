<!doctype html>
<html lang="en">

<head>
    <title>Megtakarítás</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://bootswatch.com/4/flatly/bootstrap.min.css">
    <link rel="stylesheet" href="./styles/style.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01"
                aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarColor01">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item  ">
                        <a class="nav-link  navbar-brand" href="index.php">Vagyonépítés</a>
                    </li>
                    <li class="nav-item active ">
                        <a class="nav-link active" href="savings.php">Megtakarítás</a>
                    </li>
                    <li class="nav-item  ">
                        <a class="nav-link " href="invest.php">Befektetés</a>
                    </li>
                    <li class="nav-item  ">
                        <a class="nav-link " href="trade.php">Tréd</a>
                    </li>
                </ul>
                <form method="post" action="logout.php" class="form-inline my-2 my-lg-0">
                    <button class="btn btn-secondary my-2 my-sm-0" type="submit">Kijelentkezés</button>
                </form>
            </div>
        </div>
    </nav>

    <div class="jumbotron">
        <div class="container">
            <h1>Megtakarítás</h1>
        </div>
    </div>
    <!-- savings page content START -->
    <div class="container">
        <div class="d-flex flex-row-reverse">
            <div class="card border-secondary col-12 col-md-6 col-lg-4 col-xl-3 mb-4 oszlop oszlop-top oszlop-1">
                <table class="table">
                    <tbody>
                        <tr class=" table-primary">
                            <th scope="row" class="pt-3">
                                <div class="clr-round align-middle"></div>
                            </th>
                            <td class="align-middle">Mérleg</td>
                            <td><strong>280 000</strong> <br>
                                <small>(265 000)</small>
                            </td>
                        </tr>
                        <tr class="table-danger">
                            <th scope="row" class="pt-3">
                                <div class="clr-round align-middle"></div>
                            </th>
                            <td class="align-middle">Kiadás</td>
                            <td><strong>350 000</strong> <br>
                                <small>(360 000)</small>
                            </td>
                        </tr>
                        <tr class="table-success">
                            <th scope="row" class="pt-3">
                                <div class="clr-round align-middle"></div>
                            </th>
                            <td class="align-middle">Bevétel</td>
                            <td><strong>680 000</strong> <br>
                                <small>(565 000)</small>
                            </td>
                        </tr>
                        <tr class="table-info">
                            <th scope="row" class="pt-3">
                                <div class="clr-round align-middle"></div>
                            </th>
                            <td class="align-middle">Kp állomány</td>
                            <td><strong>1 840 000</strong> <br>
                                <small>(1 620 000)</small>
                            </td>
                        </tr>
                        <tr class="table-warning">
                            <th scope="row" class="pt-3">
                                <div class="clr-round align-middle"></div>
                            </th>
                            <td class="align-middle">Havi megtakarítás</td>
                            <td><strong>320 000</strong> <br>
                                <small>(240 000)</small>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="w-100 px-3 mt-1">
                    <div id="chart-kiadas-bevetel-preview"></div>
                    <div class="p3 d-flex justify-content-around">
                        <p class="text-danger text-center flex-fill mr-2"><small>kiadás</small></p>
                        <p class="text-success text-center flex-fill ml-2"><small>bevétel</small></p>
                    </div>
                </div>
                <form action="process.php" method="post" class="card bg-light">
                    <fieldset class="p-3">
                        <legend class="pt-3">Új számlaesemény rögzítése</legend>
                        <input type="hidden" name="id" value="">
                        <input type="hidden" name="position" value="">
                        <div class="form-group">
                            <label for="name">Összeg</label>
                            <input type="text" name="name" id="name" class="form-control" value="" placeholder="8 888 888">
                        </div>
                        <div class="form-group">
                            <label for="tetel">Tétel:</label>
                            <select class="form-control" id="tetel">
                              <option>Bevétel</option>
                              <option>Befektetés</option>
                              <option>Étkezés</option>
                              <option>Család</option>
                              <option>Lakás előtakarékosság</option>
                            </select>
                          </div>
                        <div class="form-group">
                            <button type="submit" name="save" class="btn btn-secondary btn-lg btn-block my-4">Mentés</button>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="card border-secondary col-12 col-md-6 col-lg-4 col-xl-3 mb-4 oszlop oszlop-top oszlop-2">
                <div class="card-header bg-primary text-white d-flex justify-content-between">
                    <h4>19 / Szeptember</h4>
                    <div class="icon-check"></div>
                </div>
                <div class="kiadasok-lista-wrapper">
                    <ul class="list-group">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                          <span class="badge badge-danger badge-pill">-1 200</span>
                             Étkezés
                          <div class="icon-trash"></div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="badge badge-success badge-pill">961 200</span>
                             Fizetés
                          <div class="icon-trash"></div>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="badge badge-danger badge-pill">-14 200</span>
                             Ajándék
                          <div class="icon-trash"></div>
                        </li>
                      </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script>
        var w = document.getElementById("chart-kiadas-bevetel-preview").offsetWidth;
        var h = 220;
        var padding = 2;
        var bevetelKiadasDataset = [380000, 250000, 0, 580000, 650000];
        var heightX = h / Math.max(...bevetelKiadasDataset);
        var svg = d3.select("#chart-kiadas-bevetel-preview").append("svg").attr("width", w).attr("height",
            h); // Create a variable for the svg selection.
        // Use a value to pick a color.  This could be used to highlight KPIs etc.
        function colorPicker(v) {
            switch (v) {
                case bevetelKiadasDataset[0]:
                    return "#F3A59D";
                    break;
                case bevetelKiadasDataset[1]:
                    return "#E74C3C";
                    break;
                case bevetelKiadasDataset[2]:
                    return "#FFF";
                    break;
                case bevetelKiadasDataset[3]:
                    return "#8BDDCD";
                    break;
                case bevetelKiadasDataset[4]:
                    return "#18BC9C";
                    break;
            }
        }
        svg.selectAll("rect") // Build the chart.
            .data(bevetelKiadasDataset)
            .enter() // Creates elements if they do not already exist.
            .append("rect") // Creates a rectangle.
            .attr({
                x: function (d, i) {
                    if (i <= 2) {
                        return 3 * i * (w / 13);
                    } else {
                        return (3 * i * (w / 13)) - (w / 13 * 2);
                    }
                },
                y: function (d) {
                    return h - (d * heightX);
                },
                width: function (i) {
                    if (i == 2) {
                        return w / 13 - padding;
                    } else {
                        return w / 13 * 3 - padding;
                    }
                },
                height: function (d) {
                    return d * heightX;
                },
                fill: function (d) {
                    return colorPicker(d); // call the color picker to get the fill.
                }
            });
        svg.selectAll("text").data(bevetelKiadasDataset).enter()
            .append("text")
            .text(function (d) {
                return d;
            })
            .attr({
                "text-anchor": "middle",
                x: function (d, i) {
                    if (i <= 2) {
                        return i * (w / 13 * 3) + (w / 13 * 3 - padding) / 2;
                    } else {
                        return (i * (w / 13 * 3) + (w / 13 * 3 - padding) / 2) - (w / 13 * 2);
                    }
                },
                y: function (d) {
                    return h - (d * heightX) + 14;
                },
                "font-family": "sans-serif",
                "font-size": 11,
                "fill": "#ffffff"
            });
    </script>

    <!-- savings page content END -->

    <!-- Foot -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
    </script>
    
</body>

</html>